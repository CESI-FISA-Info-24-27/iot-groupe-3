<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1716px; background-color: transparent;" viewBox="0 0 1716 746" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:20px;fill:#e0d0ff;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#1a1a2e;}#my-svg .error-text{fill:#e5e5d1;stroke:#e5e5d1;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#7a6aaa;stroke:#7a6aaa;}#my-svg .marker.cross{stroke:#7a6aaa;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:20px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#e0d0ff;}#my-svg .cluster-label text{fill:#e0d0ff;}#my-svg .cluster-label span{color:#e0d0ff;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#e0d0ff;color:#e0d0ff;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#13111a;stroke:#7b2fff;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#7a6aaa!important;stroke-width:0;stroke:#7a6aaa;}#my-svg .arrowheadPath{fill:#eceee5;}#my-svg .edgePath .path{stroke:#7a6aaa;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#7a6aaa;fill:none;}#my-svg .edgeLabel{background-color:#1a1530;text-align:center;}#my-svg .edgeLabel p{background-color:#1a1530;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#1a1530;fill:#1a1530;}#my-svg .labelBkg{background-color:rgba(26, 21, 48, 0.5);}#my-svg .cluster rect{fill:#1a1530;stroke:#3a2a5e;stroke-width:1px;}#my-svg .cluster text{fill:#e0d0ff;}#my-svg .cluster span{color:#e0d0ff;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#1a1a2e;border:1px solid hsl(240, 0%, 4.1176470588%);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#e0d0ff;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:#1a1530;text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:#1a1530;padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:#1a1530;fill:#1a1530;}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .iot&gt;*{fill:#2d1b4e!important;stroke:#7b2fff!important;stroke-width:2px!important;color:#d9b3ff!important;}#my-svg .iot span{fill:#2d1b4e!important;stroke:#7b2fff!important;stroke-width:2px!important;color:#d9b3ff!important;}#my-svg .iot tspan{fill:#d9b3ff!important;}#my-svg .ctrl&gt;*{fill:#2e1a00!important;stroke:#ff8c00!important;stroke-width:2px!important;color:#ffd580!important;}#my-svg .ctrl span{fill:#2e1a00!important;stroke:#ff8c00!important;stroke-width:2px!important;color:#ffd580!important;}#my-svg .ctrl tspan{fill:#ffd580!important;}#my-svg .storage&gt;*{fill:#2e0a1a!important;stroke:#ff4d8f!important;stroke-width:2px!important;color:#ffb3d1!important;}#my-svg .storage span{fill:#2e0a1a!important;stroke:#ff4d8f!important;stroke-width:2px!important;color:#ffb3d1!important;}#my-svg .storage tspan{fill:#ffb3d1!important;}#my-svg .api&gt;*{fill:#1a2a3e!important;stroke:#4a90d9!important;stroke-width:2px!important;color:#a0d0ff!important;}#my-svg .api span{fill:#1a2a3e!important;stroke:#4a90d9!important;stroke-width:2px!important;color:#a0d0ff!important;}#my-svg .api tspan{fill:#a0d0ff!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="API" data-look="classic"><rect style="" x="1398" y="8" width="310" height="730"/><g class="cluster-label" transform="translate(1497.875, 8)"><foreignObject width="110.25" height="30"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>API · Output</p></span></div></foreignObject></g></g><g class="cluster" id="Data" data-look="classic"><rect style="" x="1038" y="378" width="310" height="360"/><g class="cluster-label" transform="translate(1159.2421875, 378)"><foreignObject width="67.515625" height="30"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Storage</p></span></div></foreignObject></g></g><g class="cluster" id="Controllers" data-look="classic"><rect style="" x="678" y="8" width="310" height="692.5"/><g class="cluster-label" transform="translate(783.6796875, 8)"><foreignObject width="98.640625" height="30"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Controllers</p></span></div></foreignObject></g></g><g class="cluster" id="MQTT" data-look="classic"><rect style="" x="8" y="93" width="620" height="365"/><g class="cluster-label" transform="translate(269.0625, 93)"><foreignObject width="97.875" height="30"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>MQTT · IoT</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M293,337.919L297.167,339.599C301.333,341.28,309.667,344.64,317.333,346.32C325,348,332,348,335.5,348L339,348" id="L_Broker_MQTTSvc_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Broker_MQTTSvc_0" data-points="W3sieCI6MjkzLCJ5IjozMzcuOTE5MzU0ODM4NzA5N30seyJ4IjozMTgsInkiOjM0OH0seyJ4IjozNDMsInkiOjM0OH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M703,180.5L698.833,180.5C694.667,180.5,686.333,180.5,678,180.5C669.667,180.5,661.333,180.5,653,180.5C644.667,180.5,636.333,180.5,606.333,180.5C576.333,180.5,524.667,180.5,473,180.5C421.333,180.5,369.667,180.5,337.004,185.126C304.342,189.752,290.684,199.004,283.855,203.631L277.026,208.257" id="L_Derived_Broker_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Derived_Broker_0" data-points="W3sieCI6NzAzLCJ5IjoxODAuNX0seyJ4Ijo2NzgsInkiOjE4MC41fSx7IngiOjY1MywieSI6MTgwLjV9LHsieCI6NjI4LCJ5IjoxODAuNX0seyJ4Ijo0NzMsInkiOjE4MC41fSx7IngiOjMxOCwieSI6MTgwLjV9LHsieCI6MjczLjcxNDI4NTcxNDI4NTcsInkiOjIxMC41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M603,387.839L607.167,389.116C611.333,390.392,619.667,392.946,628,394.223C636.333,395.5,644.667,395.5,653,395.5C661.333,395.5,669.667,395.5,677.333,395.5C685,395.5,692,395.5,695.5,395.5L699,395.5" id="L_MQTTSvc_Sensors_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MQTTSvc_Sensors_0" data-points="W3sieCI6NjAzLCJ5IjozODcuODM4NzA5Njc3NDE5MzN9LHsieCI6NjI4LCJ5IjozOTUuNX0seyJ4Ijo2NTMsInkiOjM5NS41fSx7IngiOjY3OCwieSI6Mzk1LjV9LHsieCI6NzAzLCJ5IjozOTUuNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M603,312.355L607.167,311.212C611.333,310.07,619.667,307.785,628,306.642C636.333,305.5,644.667,305.5,653,305.5C661.333,305.5,669.667,305.5,683.648,297.585C697.629,289.67,717.258,273.841,727.072,265.926L736.886,258.011" id="L_MQTTSvc_Derived_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MQTTSvc_Derived_0" data-points="W3sieCI6NjAzLCJ5IjozMTIuMzU0ODM4NzA5Njc3NDR9LHsieCI6NjI4LCJ5IjozMDUuNX0seyJ4Ijo2NTMsInkiOjMwNS41fSx7IngiOjY3OCwieSI6MzA1LjV9LHsieCI6NzQwLCJ5IjoyNTUuNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M890.526,305.5L906.771,280.083C923.017,254.667,955.509,203.833,975.921,178.417C996.333,153,1004.667,153,1013,153C1021.333,153,1029.667,153,1059.667,153C1089.667,153,1141.333,153,1193,153C1244.667,153,1296.333,153,1326.333,153C1356.333,153,1364.667,153,1373,153C1381.333,153,1389.667,153,1401.68,149.962C1413.694,146.925,1429.388,140.85,1437.235,137.812L1445.082,134.775" id="L_Sensors_SocketIO_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Sensors_SocketIO_0" data-points="W3sieCI6ODkwLjUyNTc3MzE5NTg3NjIsInkiOjMwNS41fSx7IngiOjk4OCwieSI6MTUzfSx7IngiOjEwMTMsInkiOjE1M30seyJ4IjoxMDM4LCJ5IjoxNTN9LHsieCI6MTE5MywieSI6MTUzfSx7IngiOjEzNDgsInkiOjE1M30seyJ4IjoxMzczLCJ5IjoxNTN9LHsieCI6MTM5OCwieSI6MTUzfSx7IngiOjE0NDguODEyNSwieSI6MTMzLjMzMDY0NTE2MTI5MDN9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M936.333,105.5L944.944,99.25C953.556,93,970.778,80.5,983.556,74.25C996.333,68,1004.667,68,1013,68C1021.333,68,1029.667,68,1059.667,68C1089.667,68,1141.333,68,1193,68C1244.667,68,1296.333,68,1326.333,68C1356.333,68,1364.667,68,1373,68C1381.333,68,1389.667,68,1401.644,69.26C1413.621,70.52,1429.242,73.039,1437.053,74.299L1444.864,75.559" id="L_Derived_SocketIO_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Derived_SocketIO_0" data-points="W3sieCI6OTM2LjMzMzMzMzMzMzMzMzQsInkiOjEwNS41fSx7IngiOjk4OCwieSI6Njh9LHsieCI6MTAxMywieSI6Njh9LHsieCI6MTAzOCwieSI6Njh9LHsieCI6MTE5MywieSI6Njh9LHsieCI6MTM0OCwieSI6Njh9LHsieCI6MTM3MywieSI6Njh9LHsieCI6MTM5OCwieSI6Njh9LHsieCI6MTQ0OC44MTI1LCJ5Ijo3Ni4xOTU1NjQ1MTYxMjkwMn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M963,364.048L967.167,363.04C971.333,362.032,979.667,360.016,988,359.008C996.333,358,1004.667,358,1013,358C1021.333,358,1029.667,358,1059.667,358C1089.667,358,1141.333,358,1193,358C1244.667,358,1296.333,358,1326.333,358C1356.333,358,1364.667,358,1373,358C1381.333,358,1389.667,358,1397.389,356.452C1405.111,354.903,1412.222,351.807,1415.777,350.258L1419.333,348.71" id="L_Sensors_REST_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Sensors_REST_0" data-points="W3sieCI6OTYzLCJ5IjozNjQuMDQ4Mzg3MDk2Nzc0Mn0seyJ4Ijo5ODgsInkiOjM1OH0seyJ4IjoxMDEzLCJ5IjozNTh9LHsieCI6MTAzOCwieSI6MzU4fSx7IngiOjExOTMsInkiOjM1OH0seyJ4IjoxMzQ4LCJ5IjozNTh9LHsieCI6MTM3MywieSI6MzU4fSx7IngiOjEzOTgsInkiOjM1OH0seyJ4IjoxNDIzLCJ5IjozNDcuMTEyOTAzMjI1ODA2NDZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M963,186.79L967.167,186.992C971.333,187.194,979.667,187.597,988,187.798C996.333,188,1004.667,188,1013,188C1021.333,188,1029.667,188,1059.667,188C1089.667,188,1141.333,188,1193,188C1244.667,188,1296.333,188,1326.333,188C1356.333,188,1364.667,188,1373,188C1381.333,188,1389.667,188,1403.989,194.716C1418.311,201.431,1438.621,214.862,1448.777,221.578L1458.932,228.294" id="L_Derived_REST_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Derived_REST_0" data-points="W3sieCI6OTYzLCJ5IjoxODYuNzkwMzIyNTgwNjQ1MTV9LHsieCI6OTg4LCJ5IjoxODh9LHsieCI6MTAxMywieSI6MTg4fSx7IngiOjEwMzgsInkiOjE4OH0seyJ4IjoxMTkzLCJ5IjoxODh9LHsieCI6MTM0OCwieSI6MTg4fSx7IngiOjEzNzMsInkiOjE4OH0seyJ4IjoxMzk4LCJ5IjoxODh9LHsieCI6MTQ2Mi4yNjgyOTI2ODI5MjY4LCJ5IjoyMzAuNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M872.744,255.5L891.953,291.75C911.162,328,949.581,400.5,972.957,436.75C996.333,473,1004.667,473,1013,473C1021.333,473,1029.667,473,1039.56,473C1049.453,473,1060.906,473,1066.633,473L1072.359,473" id="L_Derived_Influx_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Derived_Influx_0" data-points="W3sieCI6ODcyLjc0MzU4OTc0MzU4OTcsInkiOjI1NS41fSx7IngiOjk4OCwieSI6NDczfSx7IngiOjEwMTMsInkiOjQ3M30seyJ4IjoxMDM4LCJ5Ijo0NzN9LHsieCI6MTA3Ni4zNTkzNzUsInkiOjQ3M31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M889.364,485.5L905.803,511.75C922.242,538,955.121,590.5,975.727,616.75C996.333,643,1004.667,643,1013,643C1021.333,643,1029.667,643,1037.333,643C1045,643,1052,643,1055.5,643L1059,643" id="L_Sensors_History_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Sensors_History_0" data-points="W3sieCI6ODg5LjM2MzYzNjM2MzYzNjQsInkiOjQ4NS41fSx7IngiOjk4OCwieSI6NjQzfSx7IngiOjEwMTMsInkiOjY0M30seyJ4IjoxMDM4LCJ5Ijo2NDN9LHsieCI6MTA2MywieSI6NjQzfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1323,643L1327.167,643C1331.333,643,1339.667,643,1348,643C1356.333,643,1364.667,643,1373,643C1381.333,643,1389.667,643,1402.535,643C1415.404,643,1432.807,643,1441.509,643L1450.211,643" id="L_History_Export_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_History_Export_0" data-points="W3sieCI6MTMyMywieSI6NjQzfSx7IngiOjEzNDgsInkiOjY0M30seyJ4IjoxMzczLCJ5Ijo2NDN9LHsieCI6MTM5OCwieSI6NjQzfSx7IngiOjE0NTQuMjEwOTM3NSwieSI6NjQzfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_Broker_MQTTSvc_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(473, 180.5)"><g class="label" data-id="L_Derived_Broker_0" transform="translate(-57.09375, -15)"><foreignObject width="114.1875" height="30"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>alarm:toggle</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_MQTTSvc_Sensors_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_MQTTSvc_Derived_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1193, 153)"><g class="label" data-id="L_Sensors_SocketIO_0" transform="translate(-27.921875, -15)"><foreignObject width="55.84375" height="30"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>emit()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1193, 68)"><g class="label" data-id="L_Derived_SocketIO_0" transform="translate(-27.921875, -15)"><foreignObject width="55.84375" height="30"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>emit()</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Sensors_REST_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Derived_REST_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Derived_Influx_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Sensors_History_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_History_Export_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default iot" id="flowchart-Broker-0" transform="translate(163, 285.5)"><rect class="basic label-container" style="fill:#2d1b4e !important;stroke:#7b2fff !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#d9b3ff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(217, 179, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#d9b3ff !important" class="nodeLabel"><p>Mosquitto Broker<br /><i>WebSocket · Port 9001<br />capteurs/* · alarme/*</i></p></span></div></foreignObject></g></g><g class="node default iot" id="flowchart-MQTTSvc-1" transform="translate(473, 348)"><rect class="basic label-container" style="fill:#2d1b4e !important;stroke:#7b2fff !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#d9b3ff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(217, 179, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#d9b3ff !important" class="nodeLabel"><p>MQTT Service<br /><i>subscribe capteurs/+ alarme/+<br />dispatch by topic</i></p></span></div></foreignObject></g></g><g class="node default ctrl" id="flowchart-Sensors-2" transform="translate(833, 395.5)"><rect class="basic label-container" style="fill:#2e1a00 !important;stroke:#ff8c00 !important;stroke-width:2px !important" x="-130" y="-90" width="260" height="180"/><g class="label" style="color:#ffd580 !important" transform="translate(-100, -75)"><rect/><foreignObject width="200" height="150"><div style="color: rgb(255, 213, 128) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#ffd580 !important" class="nodeLabel"><p>Sensors<br /><i>Temperature · Humidity · Pressure<br />Sound · Light · Motion</i></p></span></div></foreignObject></g></g><g class="node default ctrl" id="flowchart-Derived-3" transform="translate(833, 180.5)"><rect class="basic label-container" style="fill:#2e1a00 !important;stroke:#ff8c00 !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#ffd580 !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 213, 128) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#ffd580 !important" class="nodeLabel"><p>Business Logic<br /><i>Alarm · ThermalComfort<br />WasteAlert · Camera</i></p></span></div></foreignObject></g></g><g class="node default storage" id="flowchart-Influx-4" transform="translate(1193, 473)"><rect class="basic label-container" style="fill:#2e0a1a !important;stroke:#ff4d8f !important;stroke-width:2px !important" x="-116.640625" y="-60" width="233.28125" height="120"/><g class="label" style="color:#ffb3d1 !important" transform="translate(-86.640625, -45)"><rect/><foreignObject width="173.28125" height="90"><div style="color: rgb(255, 179, 209) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#ffb3d1 !important" class="nodeLabel"><p>InfluxDB 3<br /><i>camera time-series<br />bucket sensors</i></p></span></div></foreignObject></g></g><g class="node default storage" id="flowchart-History-5" transform="translate(1193, 643)"><rect class="basic label-container" style="fill:#2e0a1a !important;stroke:#ff4d8f !important;stroke-width:2px !important" x="-130" y="-60" width="260" height="120"/><g class="label" style="color:#ffb3d1 !important" transform="translate(-100, -45)"><rect/><foreignObject width="200" height="90"><div style="color: rgb(255, 179, 209) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#ffb3d1 !important" class="nodeLabel"><p>In-Memory History<br /><i>max 10 000 per sensor</i></p></span></div></foreignObject></g></g><g class="node default api" id="flowchart-SocketIO-6" transform="translate(1553, 93)"><rect class="basic label-container" style="fill:#1a2a3e !important;stroke:#4a90d9 !important;stroke-width:2px !important" x="-104.1875" y="-45" width="208.375" height="90"/><g class="label" style="color:#a0d0ff !important" transform="translate(-74.1875, -30)"><rect/><foreignObject width="148.375" height="60"><div style="color: rgb(160, 208, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#a0d0ff !important" class="nodeLabel"><p>Socket.IO Server<br /><i>real-time push</i></p></span></div></foreignObject></g></g><g class="node default api" id="flowchart-REST-7" transform="translate(1553, 290.5)"><rect class="basic label-container" style="fill:#1a2a3e !important;stroke:#4a90d9 !important;stroke-width:2px !important" x="-130" y="-60" width="260" height="120"/><g class="label" style="color:#a0d0ff !important" transform="translate(-100, -45)"><rect/><foreignObject width="200" height="90"><div style="color: rgb(160, 208, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#a0d0ff !important" class="nodeLabel"><p>REST API Express<br /><i>CORS · Swagger · Port 3000</i></p></span></div></foreignObject></g></g><g class="node default api" id="flowchart-Export-8" transform="translate(1553, 643)"><rect class="basic label-container" style="fill:#1a2a3e !important;stroke:#4a90d9 !important;stroke-width:2px !important" x="-98.7890625" y="-60" width="197.578125" height="120"/><g class="label" style="color:#a0d0ff !important" transform="translate(-68.7890625, -45)"><rect/><foreignObject width="137.578125" height="90"><div style="color: rgb(160, 208, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#a0d0ff !important" class="nodeLabel"><p>CSV Export<br /><i>merged history<br />FR date format</i></p></span></div></foreignObject></g></g></g></g></g></svg>